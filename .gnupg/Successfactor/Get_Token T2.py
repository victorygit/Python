import requests

url_saml = "https://api17preview.sapsf.com/oauth/idp"

payload_saml='client_id=Y2RjZjczNTc4YmRjZTQ5M2Q5MDhjYWFjMGQzMg&user_id=APPSAPCADF&token_url=https%3A%2F%2Fapi17preview.sapsf.com%2Fouth%2Ftoken&private_key=TUlJRXZBSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS1l3Z2dTaUFnRUFBb0lCQVFDWk9BL3U2Nmc0UVR6a3g4bHdmZmFCQ21UcTdod2l6QUZIbW9XTS9SUytzSnBud2xETnNMTmtuNlNPZHkycGhhdlBFR1lueHFSbVZqMWZsWUVwa3VMMG9DWnRxTHJhcGk4NHgyRk9EaXgvUzZ4MHhxYk9OelpJL0dRejNWNUpzcFJRN0xYT0lPYVB4MGVJZGlUTDlpdnZrbnFTUCt2bzYxbm1XQkNpdEpqTGxkcWV3bHdSditydW5IWUJwczRITmp5NEovSzhWKzlQVjlOazZUWjc5R2UzK0M0VHUvM0JkdGpra1hFdXY0VHpza2NFOWloK2xPSFlSSmUvZitSUEozQ2l3cFNManBONXpEWDh0RkwvSkhSQiswQWtUbkU2alI4OFhrK2Z4V3ZxRCtMWXZkYnU4QUljYjZ6dW1QZGk2cVhQWGozZ0NuY2tRQ09OKzNRTGh4dnZBZ01CQUFFQ2dnRUFGVGsweTgyTTBhNEh0MUVOVUMzQ2xZRlJGVkhDUi9lbVBicmp3UEhWaTh4K3R0eXR3TEEzU1RycjJtZ2J4UjJrL051eXF0UFROZkhBTXB0TTl1dEgwTWJXUzk1UmM3UU5Xbm9UdW5Jd0s3blp1NXRBdzlQV0N5b2EzeXhNd1R5aFdzeFBLcXhZQTVhQkRDQUJYTmRPb3JMUms2eVRDd0ordzI5emJuWkJyQUZ4QVRYOTFYTkxIMEJ1NFFYd3ZHT0xZTTJISEkwZndHVXpWQVIzZVNOR2JKK3Bma1FEN2gvamlrREhPc0JNclZReVlyMGttMEFGMG1JQ0hkNUNOc1BGVTdBUXVqOG9rWlIvanJrZ0theGVOR3JOaEFRMERFeUlMNURUNlhvMU40UGdMZWZJeFVxaXAySUtZMG1SZW1idm9VS0p5bVRVelZwdWFNNWQ2MldMVVFLQmdRRFJYcDJtSkx0Yit0V0xOeHRrNHlxSjA2SHdWdUdWVTM3ZWVYdmc4U095ZHlZNUlwK3VObHFGNGd1eXVLY29jSEtwQzdNaGRLcDhNMzRFaElWSjhIQ01jVktVRmgzK2F6aWJQQzVTazF3bTBUQStxZmZVQmVjaEZ6WTRzVEI1L0NvanVJdE5mRXdhbzZ3N29Gb05kaFFEbWgydEJyOCtiMGNxaHQrcWcvVE9Ld0tCZ1FDN1YvajRtME1sZC8zS2J0Q2Uwd3dacE5KOWcvZldhbnBFemVFVTNNekZ1WkgrN1R1YmREZWhvS2pJZFJmZXNjOXlBdm5Xc1ZtSUNVa1NJbEpOaGpIbHV5OEVaZUJtai93VTc4UjN6Q2U4SWIrQWhqQzJIczRpelcwR2RGd0VqSk9Vak1URFpaSjZaTGpLR1N5c3ljMWlFMW5jSGR2YW9Gb0xSRGx1NXJ2TFRRS0JnRnhwbGM0aXdtd2I4Q3V0bkRMUXJoTDl6YW1tdjVWSXNHUUVYVEJ4WDE5RGhpU0w2czFiZ21NNzNndjV3eFp2WTd6SHhENU5IMzhJdjJQQkZwQUhSN1pGd3J4SWN0NjhkdFRXSUdBa1dQVnRPZzArdW52a1N4dHBBbTdOanVjWTdZU3N6UmZiZUQvOTVHVEJKMTV2c3UvUUU2OHVualV4cXNqVGxWL1BOTHZYQW9HQVoweFNrNEhJdkZnMUwvRjZScGpJQ3p1K2RFYlgyUHBOQUxNa2NJUnV4SGRWOE9LT0EyRkphMjFTbzNVcy9EVysxSGFmbTZtZVhFd0NabVZXVERpNk9wbkRpd0ZCZ2t2U0N4bEprMlNXWkQyWGdoNTdyVysrNmFHcmcrdVU4VTB4OHE3THI1SEorb0tmQVpCditiWXI4UEFLbER4Q2hZSDFKRkV4K2R4dm4rRUNnWUExdEEvL3BFczlQcjlDazQyaENlUHRacldoaWt0K3YzRkdCZGZxakNsQzBEaGU0ems0eTJYaGQvMysweWxzS2pObTlEZ3NKWnN2VkwwaS9yMEwyd2Ewdk45SnorNDRQa3drM291alV1OXEwdVpidGRWdmhnZ2U4NnM2ajUwTW43azZ0T2lVN3Z6UWpzbm9rRVFKODY1OXo4WUpncUNMOWNkRDcwRC90Q0tTS0E9PSMjI29udGFyaW9wb3dUMg=='
headers_saml = {
  'Content-Type': 'application/x-www-form-urlencoded'
}

response_saml = requests.request("POST", url_saml, headers=headers_saml, data=payload_saml)

print(response_saml.text)

url_token = "https://api17preview.sapsf.com/oauth/token"

payload_token='company_id=ontariopowT2&client_id=Y2RjZjczNTc4YmRjZTQ5M2Q5MDhjYWFjMGQzMg&grant_type=urn:ietf:params:oauth:grant-type:saml2-bearer&assertion='+response_saml.text
headers_token = {
  'Content-Type': 'application/x-www-form-urlencoded'
}

response_token = requests.request("POST", url_token, headers=headers_token, data=payload_token)
print('Token')
print(response_token.text)
