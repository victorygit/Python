import requests

url_saml = "https://api17preview.sapsf.com/oauth/idp"

payload_saml='client_id=OGI1NjBhNDU4ZjJjZDA0YWJkYzYwNWI2YTRiOA&user_id=APPSAPCADF&token_url=https%3A%2F%2Fapi17preview.sapsf.com%2Fouth%2Ftoken&private_key=TUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFDT0hSUGZFd3pzQUtucFdka1N6VlZBMi82WEYvNDROY2xYb0xSRUVwOXRzS3dKdk5pRVh5dkU2amFrMk0weHd5VU9HNkg1aU9SRkNkNXJUT0tQajRSUTdoM0hpL2lQeElZMDE4WEVKa1IwMEdXeFFWWmhhdkhlR1R4ZjA1RHZFbFVtVDlSQjJyRnNwdnRlNTJDcy9ENW9wWHM4bUtwY2huL29FR1JiUFg5a291M2luSkluUXh1YjF5aytmSTJyT0JkZW5oZDZOSEtiWEljbHNKa0hKRllqTVhyS2lkMnF5VitjdHdtc3ZUd2xMQVFaRmhKWXE0Ymp0Q1l5Sk9jWDk1SkxWRTVmNmRSSVdkMXJNZGtEWXZyd0ZFMWhBdkc5QzdrU1dOVTAzdHFpRHRZekl2NUhXYjJHOEYvMGJtU25CK25PNWpwdUM1c1FpemxFRlBlMTVFcFhBZ01CQUFFQ2dnRUFTR1RGbjZpTHQ1bHE5TVZoVURPclR6d0NTQ1BmeS9DU1hZSXU4bEp1UnFsdUtoTzZWRXhLOXFlOUtHS012T0hFK1pmWC9rN2V3ZENTTGlUZmNQUlNHZ3dDdllrdkdNV3EvRFpDdDNZcS96cTk0dnIrcnVlVXlHZ2dta3dqRTdaS0RCYzBjRXVnZ0ZIYjBXK2FqdVI4UWtDeU01OHRnYTYrYjVBU0gyeUhmZExEUktCUE5hZ0gzSHNIYlRJeGx3eFN5eE1DTWhDa0hxUitLRHB4dUM4M2dMY3dDcFJkMjB3YjhkSGZRdnI5cDBKYjlrT3FINGZzQk5ZN2dlZlBDcldrdWw5MGtyNGFOVnN5N00wYWI3cUJsbThRQlB0cHpSYjdpMkZWMERUNThSNVpZUjVzdDNNQzYrTVN4RGVBQU9wSWdnYTUwS1drOUNrT0R2SXFCcmhmYVFLQmdRREh2QzQ4cVJ0YmY5d0xyb1dHTEN2azdtM3MzUk1FT203NnNZV09hT3V0a1p2UlQzTkNDMFZxZVBXWXpUUDVhaUs3cVQxaTJmUVI0MjBpellMZCtpYVdHbC92WkpIbnllSGVuZnhmblA5WjR5dVVDQ1JOenVXNnFvKzhlZktkekxJenEzeVZHNWlXdVp0ZlhaL3lSeitzNmxlMWw5QitvT0RJenk3Z0N6c2R4UUtCZ1FDMkpZdHpkN3czYTlabXVOeW5FV0VCOFNqaE10MzdJOWpCRndEcndibWxidFhJNERoT1VOVk1rSHUwMmlhMmZvVDN5MUo5bE94VEVGa0x4K3pJNkVtanVWeDdQclhYM3ZZT2xTT3dwbWN0VU9lcGp1TmplZFViQ3dTQjlwVVVxTksrTjBKUUFWQkdLbHFlTm01NGtSbnVRdmI1cEhJcjA5MXVPYWM2dmRJRmF3S0JnQ2NkNktSQ3JqUHVSNGNXSjlwT0hrNllqM2k3RnpWVnlGUmFuZ0IwOWVzcFFDM3U5SEN6eW1WK3lRS2k5WkhjUW04a1J2eHNHUXZEMGFUbVFNSCtjcjRrN2pMeExFNEwwS3VMbjFpT1k4Z1Q0SDMrVmpYUzFsVUhnRnoyT1JqRWRRWC9pTWVlL3ZSTjUycjI2Qk5IOXVXRGc2Zngwb2hxTTN2QWI3cTdHRm5OQW9HQkFLRjlyaUxrNExvZVlRdllFTUlMRlgvOFNhdElSeWxYd2VDSVBhZklyWWp3T0prTnVyNHN5c0JFUlhtMkJLYStpN09LMEF0Smt6R2VCK1Q3RDRPYzkxVXlqYjB6ZjFQeWVTTzZ0TmIwNGZ0NmhMcC9Wam1uRmZzUkRLRVJkMkhHd0hvblVpTE8xMVl1VFFPQzdQVDJhUkFtelFQTytlN0R1OG56VWNJeDg5Z2JBb0dBQlJ2VmFtQXQ4SXJpdjFEYUt1NGU3eWtPWU5oZGRJM0MwSTlHeE4rM0t2dWdWMUVWZTE0Vm9qMWw5R050RUU2d1FQaUJpSHQ2T000UndsaGxGd3VFMFBYQVBGN3dxOGRTekhjODFMOXE1Zlk0aEdqSlh0Uk4wdkNzWVJYbXRybkJZbkRJNUE1VFpqODJyM0ZST1F2aGlWVkdhekYxbFZNaXlXdktqMEZMWWZnPSMjI29udGFyaW9wb3dEMQ=='
headers_saml = {
  'Content-Type': 'application/x-www-form-urlencoded'
}

response_saml = requests.request("POST", url_saml, headers=headers_saml, data=payload_saml)

print(response_saml.text)

url_token = "https://api17preview.sapsf.com/oauth/token"

payload_token='company_id=ontariopowD1&client_id=OGI1NjBhNDU4ZjJjZDA0YWJkYzYwNWI2YTRiOA&grant_type=urn:ietf:params:oauth:grant-type:saml2-bearer&assertion='+response_saml.text
headers_token = {
  'Content-Type': 'application/x-www-form-urlencoded'
}

response_token = requests.request("POST", url_token, headers=headers_token, data=payload_token)
print('Token')
print(response_token.text)
